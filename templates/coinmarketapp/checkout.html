{% extends 'coinmarketapp/base.html' %}{% load static %}
{% block content %}
    <main>
        <link rel="stylesheet" type="text/css" href="{% static 'payment/checkout.css' %}">
        <script src="https://js.stripe.com/v3/"></script>
        <script type="text/javascript">
            <!--    this script must show up before payment/checkout.js-->
            var clientSecret = "{{clientSecret|safe}}"
            var url = "{{url|safe}}"
            var email = "{{email|safe}}"
        </script>
        <script src="{% static 'payment/checkout.js' %}" defer></script>
        <div style="margin-top: 5%">
            <h3 class="modal-title">Pay the bill</h3>
            <form id="payment-form">
                <div id="payment-element">
                    <!--Stripe.js injects the Payment Element-->
                </div>
                <button id="submit">
                    <div class="spinner hidden" id="spinner"></div>
                    <span id="button-text">Pay now</span>
                </button>
                <div id="payment-message" class="hidden"></div>
            </form>
        </div>
    </main>
{% endblock %}