<!-- coinmarketapp/templates/coinmarketapp/crypto_list.html -->

{% extends 'coinmarketapp/base.html' %}
{%  load static %}

{% block content %}

    <section class="crypto-list-container">
    <!-- Add a form with a button to trigger the server-side rendering -->
            <form method="POST" action="{% url 'trends_view' %}">
                {% csrf_token %}
                <button type="submit" class="btn-highlights-toggle">Highlights</button>
            </form>

            <!-- Create a container for the dynamic content -->
            <div id="dynamic-content-container">
            <!-- Content loaded dynamically will appear here -->
            </div>
        <div class="crypto-list">
            <h1>Cryptocurrency Market</h1>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Symbol</th>
                    <th>Market Cap</th>
                    <th>Price</th>
                    <th>24h Volume</th>
                </tr>
                {% for cryptocurrency in cryptocurrencies %}
                <tr>
                    <td>{{ cryptocurrency.name }}</td>
                    <td>{{ cryptocurrency.symbol }}</td>
                    <td>${{ cryptocurrency.market_cap }}</td>
                    <td>${{ cryptocurrency.price }}</td>
                    <td>${{ cryptocurrency.volume_24h }}</td>
                </tr>
                {% endfor %}
            </table>
            <div class="crypto-rates">
                <h2>Cryptocurrency Rates</h2>
                <ul>
                    {% for key, value in crypto_rates.items %}
                    <li>{{ key }}: {{ value }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </section>
{% endblock %}

